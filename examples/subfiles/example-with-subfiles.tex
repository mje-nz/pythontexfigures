\documentclass[12pt,a4paper]{article}
\usepackage[utf8]{inputenc}

\usepackage{pgf}
\usepackage{subfiles}

% Make build reproducible
% https://tex.stackexchange.com/a/5961
% https://tex.stackexchange.com/a/313605
\pdfinfo{ /Producer (pdfTeX) }
\pdfinfoomitdate=1
\pdftrailerid{}
\pdfsuppressptexinfo=-1

% Use currfile before pythontex does in order to set abspath option
\usepackage[abspath]{currfile}
% gobble=auto lets you indent inside code environments
% keeptemps=all keeps the code and output files so you can see what executed
\usepackage[gobble=auto,keeptemps=all]{pythontex}
% Look for figure scripts in a scripts/ directory in the same folder as the file
% containing the \pyfig command
\usepackage[relative]{pythontexfigures}
\pythontexfigurespath{scripts}

\begin{pythontexcustomcode}[begin]{py}
	# Set up python_figures first so it can configure matplotlib
	import pythontexfigures as pf
	pf.setup(pytex)

	# Set up environment for scripts
	import numpy as np
	import matplotlib.pyplot as plt
	import seaborn as sns
	sns.set_style('white')
\end{pythontexcustomcode}


\begin{document}
	\title{pythontexfigures example with subfiles}
	\author{Matthew Edwards}
	\date{July 2019}
	\maketitle

	% Each section and its figure scripts in a separate folder, like chapters in a book
	% or thesis
    \subfile{sections/section1/section1}
    \subfile{sections/section2/section2}
\end{document}
